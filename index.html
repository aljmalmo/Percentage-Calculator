<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Ø£Ø¯Ø§Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ø³Ø¨ Ø§Ù„Ù…Ø¦ÙˆÙŠØ© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© - ØªØ­Ø³Ø¨ Ø§Ù„Ù†Ø³Ø¨ØŒ Ø§Ù„Ù†Ø³Ø¨ Ø§Ù„Ù…Ø¦ÙˆÙŠØ© Ù…Ù† Ø¹Ø¯Ø¯ØŒ ÙˆØ§Ù„Ø²ÙŠØ§Ø¯Ø© Ø£Ùˆ Ø§Ù„Ù†Ù‚ØµØ§Ù† Ø¨ÙŠÙ† Ø¹Ø¯Ø¯ÙŠÙ† ÙÙˆØ±Ù‹Ø§." />
  <title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù†Ø³Ø¨ Ø§Ù„Ù…Ø¦ÙˆÙŠØ© | Ø£Ø¯Ø§Ø© Ø¹Ø±Ø¨ÙŠØ© Ø°ÙƒÙŠØ©</title>
  <style>
    /* Reset Ø¹Ø§Ù… Ù…Ø¹ Ø¯Ø¹Ù… RTL */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f7f9fc;
      color: #333;
      line-height: 1.6;
      padding: 20px;
      max-width: 100%;
      overflow-x: hidden;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
    }

    header {
      text-align: center;
      margin-bottom: 30px;
    }

    h1 {
      font-size: 2rem;
      color: #2c3e50;
      margin-bottom: 10px;
    }

    .subtitle {
      font-size: 1.1rem;
      color: #7f8c8d;
    }

    .calculator-grid {
      display: flex;
      flex-direction: column;
      gap: 30px;
    }

    @media (min-width: 768px) {
      .calculator-grid {
        flex-direction: row;
        flex-wrap: wrap;
      }
    }

    .card {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 10px;
      padding: 20px;
      flex: 1 1 300px;
      min-width: 280px;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
    }

    .card h2 {
      font-size: 1.4rem;
      margin-bottom: 15px;
      color: #2c3e50;
      text-align: right;
      border-bottom: 2px solid #3498db;
      padding-bottom: 8px;
    }

    .input-group {
      margin-bottom: 15px;
      text-align: right;
    }

    label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
      color: #2c3e50;
    }

    input[type="number"] {
      width: 100%;
      padding: 12px 15px;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #fff;
      transition: border-color 0.3s ease;
    }

    input[type="number"]:focus {
      outline: none;
      border-color: #3498db;
      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
    }

    .result {
      margin-top: 15px;
      padding: 15px;
      background: #e8f4fc;
      border: 1px solid #b3d9ff;
      border-radius: 8px;
      font-size: 1.1rem;
      color: #2980b9;
      text-align: right;
      word-wrap: break-word;
    }

    .copy-btn {
      display: inline-block;
      margin-top: 10px;
      padding: 6px 12px;
      font-size: 0.9rem;
      background: #3498db;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .copy-btn:hover {
      background: #2980b9;
    }

    .tooltip {
      font-size: 0.85rem;
      color: #7f8c8d;
      margin-top: 5px;
      font-style: italic;
    }

    footer {
      margin-top: 50px;
      padding: 25px;
      background: #2c3e50;
      color: #ecf0f1;
      border-radius: 10px;
      text-align: right;
    }

    footer h3 {
      font-size: 1.4rem;
      margin-bottom: 15px;
      color: #3498db;
    }

    footer ul {
      list-style-type: none;
    }

    footer ul li {
      margin-bottom: 10px;
    }

    footer code {
      background: #34495e;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: monospace;
      font-size: 0.9em;
    }

    .success-toast {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background: #27ae60;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 1000;
    }

    .visible {
      opacity: 1;
    }

    .error {
      color: #e74c3c;
      font-weight: bold;
    }

    /* Ø¯Ø¹Ù… ARIA ÙˆØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„ÙˆØµÙˆÙ„ */
    [role="alert"] {
      padding: 10px;
      margin-top: 10px;
      border: 1px solid transparent;
      border-radius: 6px;
      display: none;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ§® Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù†Ø³Ø¨ Ø§Ù„Ù…Ø¦ÙˆÙŠØ©</h1>
      <p class="subtitle">Ø£Ø¯Ø§Ø© Ø°ÙƒÙŠØ© Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ø³Ø¨ ÙÙˆØ±Ù‹Ø§ Ø¨Ø¯ÙˆÙ† ØªØ£Ø®ÙŠØ±</p>
    </header>

    <div class="calculator-grid">
      <!-- Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£ÙˆÙ„: X% Ù…Ù† Y -->
      <div class="card">
        <h2>Ø­Ø³Ø§Ø¨ "X% Ù…Ù† Y"</h2>
        <p class="tooltip">Ù…Ø§ Ù‡Ùˆ Ù†Ø§ØªØ¬ X% Ù…Ù† Ø§Ù„Ø¹Ø¯Ø¯ YØŸ</p>

        <div class="input-group">
          <label for="percent1">Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ© (X%)</label>
          <input type="number" id="percent1" step="any" min="0" placeholder="Ù…Ø«Ù„Ø§Ù‹: 25" aria-label="Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©" />
        </div>

        <div class="input-group">
          <label for="number1">Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„ÙŠ (Y)</label>
          <input type="number" id="number1" step="any" min="0" placeholder="Ù…Ø«Ù„Ø§Ù‹: 200" aria-label="Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„ÙŠ" />
        </div>

        <div id="result1" class="result" aria-live="polite">Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...</div>
        <button class="copy-btn" onclick="copyResult('result1')">Ù†Ø³Ø® Ø§Ù„Ù†Ø§ØªØ¬</button>
        <div id="error1" class="error" role="alert"></div>
      </div>

      <!-- Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ: X Ù‡Ùˆ ÙƒÙ… % Ù…Ù† Y -->
      <div class="card">
        <h2>Ø­Ø³Ø§Ø¨ "X Ù‡Ùˆ ÙƒÙ… % Ù…Ù† Y"</h2>
        <p class="tooltip">Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ© Ø§Ù„ØªÙŠ ØªÙ…Ø«Ù„ X Ù…Ù† Ø§Ù„Ø¹Ø¯Ø¯ YØŸ</p>

        <div class="input-group">
          <label for="part">Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¬Ø²Ø¡ (X)</label>
          <input type="number" id="part" step="any" min="0" placeholder="Ù…Ø«Ù„Ø§Ù‹: 50" aria-label="Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø¬Ø²Ø¦ÙŠ" />
        </div>

        <div class="input-group">
          <label for="whole">Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ„ (Y)</label>
          <input type="number" id="whole" step="any" min="0.000001" placeholder="Ù…Ø«Ù„Ø§Ù‹: 200" aria-label="Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„ÙŠ" />
        </div>

        <div id="result2" class="result" aria-live="polite">Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...</div>
        <button class="copy-btn" onclick="copyResult('result2')">Ù†Ø³Ø® Ø§Ù„Ù†Ø§ØªØ¬</button>
        <div id="error2" class="error" role="alert"></div>
      </div>

      <!-- Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø«Ø§Ù„Ø«: Ù†Ø³Ø¨Ø© Ø§Ù„ØªØºÙŠØ± Ø¨ÙŠÙ† Ø±Ù‚Ù…ÙŠÙ† -->
      <div class="card">
        <h2>Ø­Ø³Ø§Ø¨ Ø§Ù„Ø²ÙŠØ§Ø¯Ø© Ø£Ùˆ Ø§Ù„Ù†Ù‚ØµØ§Ù† Ø§Ù„Ù†Ø³Ø¨ÙŠ</h2>
        <p class="tooltip">Ù…Ø§ Ù‡ÙŠ Ù†Ø³Ø¨Ø© Ø§Ù„ØªØºÙŠØ± Ù…Ù† Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø«Ø§Ù†ÙŠØŸ</p>

        <div class="input-group">
          <label for="oldValue">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© (Ø§Ù„Ø£ÙˆÙ„Ù‰)</label>
          <input type="number" id="oldValue" step="any" placeholder="Ù…Ø«Ù„Ø§Ù‹: 150" aria-label="Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ©" />
        </div>

        <div class="input-group">
          <label for="newValue">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Ø§Ù„Ø«Ø§Ù†ÙŠØ©)</label>
          <input type="number" id="newValue" step="any" placeholder="Ù…Ø«Ù„Ø§Ù‹: 180" aria-label="Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©" />
        </div>

        <div id="result3" class="result" aria-live="polite">Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...</div>
        <button class="copy-btn" onclick="copyResult('result3')">Ù†Ø³Ø® Ø§Ù„Ù†Ø§ØªØ¬</button>
        <div id="error3" class="error" role="alert"></div>
      </div>
    </div>

    <!-- Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… -->
    <footer>
      <h3>ğŸ“š Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h3>
      <p>Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© ØªØ³Ø§Ø¹Ø¯Ùƒ ÙÙŠ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ø³Ø¨ Ø§Ù„Ù…Ø¦ÙˆÙŠØ© Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙˆØ¯Ù‚Ø© ÙØ§Ø¦Ù‚Ø©. Ø¥Ù„ÙŠÙƒ ÙƒÙŠÙÙŠØ© Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙ„ Ù‚Ø³Ù…:</p>
      <br />
      <ul>
        <li>
          <strong>Ø­Ø³Ø§Ø¨ "X% Ù…Ù† Y"</strong>: Ø§Ø³ØªØ®Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù… Ø¹Ù†Ø¯Ù…Ø§ ØªØ±ÙŠØ¯ Ù…Ø¹Ø±ÙØ© ÙƒÙ… ÙŠØ³Ø§ÙˆÙŠ Ù…Ø¨Ù„Øº Ù…Ø¹ÙŠÙ† Ø¨Ù†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ© Ù…Ù† Ø¹Ø¯Ø¯.  
          <br /><strong>Ù…Ø«Ø§Ù„:</strong> Ù…Ø§ Ù‡Ùˆ 20% Ù…Ù† 500ØŸ â†’ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©: 100.
        </li>
        <br />
        <li>
          <strong>Ø­Ø³Ø§Ø¨ "X Ù‡Ùˆ ÙƒÙ… % Ù…Ù† Y"</strong>: Ø§Ø³ØªØ®Ø¯Ù…Ù‡ Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ© Ø§Ù„ØªÙŠ ÙŠÙ…Ø«Ù„Ù‡Ø§ Ø¹Ø¯Ø¯ Ù…Ø¹ÙŠÙ† Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ø¹Ø¯Ø¯ Ø£ÙƒØ¨Ø±.  
          <br /><strong>Ù…Ø«Ø§Ù„:</strong> 75 Ù‡Ùˆ ÙƒÙ… % Ù…Ù† 300ØŸ â†’ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©: 25%.
        </li>
        <br />
        <li>
          <strong>Ø­Ø³Ø§Ø¨ Ø§Ù„Ø²ÙŠØ§Ø¯Ø© Ø£Ùˆ Ø§Ù„Ù†Ù‚ØµØ§Ù†</strong>: ÙŠÙØ³ØªØ®Ø¯Ù… Ù„Ù…Ø¹Ø±ÙØ© Ù†Ø³Ø¨Ø© Ø§Ù„ØªØºÙŠØ± Ø¨ÙŠÙ† Ø±Ù‚Ù…ÙŠÙ† (Ù…Ø«Ù„ Ø³Ø¹Ø± Ù‚Ø¨Ù„ ÙˆØ¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…).  
          <br /><strong>Ù…Ø«Ø§Ù„:</strong> Ù…Ù† 80 Ø¥Ù„Ù‰ 100 â†’ Ø²ÙŠØ§Ø¯Ø© Ø¨Ù†Ø³Ø¨Ø© 25%.  
          <br />ÙˆÙ…Ù† 100 Ø¥Ù„Ù‰ 80 â†’ Ù†Ù‚ØµØ§Ù† Ø¨Ù†Ø³Ø¨Ø© 20%.
        </li>
      </ul>
      <br />
      <p><strong>Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</strong></p>
      <ul>
        <li>ØªØ¸Ù‡Ø± Ø§Ù„Ù†ØªØ§Ø¦Ø¬ <strong>ÙÙˆØ±Ù‹Ø§ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ÙƒØªØ§Ø¨Ø©</strong> Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ù„Ù†Ù‚Ø±.</li>
        <li>ØªØ¯Ø¹Ù… Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø´Ø±ÙŠØ© (<code>3.14</code>) ÙˆØ§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙƒØ¨ÙŠØ±Ø©.</li>
        <li>ÙŠÙ…ÙƒÙ†Ùƒ Ù†Ø³Ø® Ø£ÙŠ Ù†ØªÙŠØ¬Ø© Ø¨Ù†Ù‚Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø²Ø± "Ù†Ø³Ø® Ø§Ù„Ù†Ø§ØªØ¬".</li>
        <li>Ø§Ù„Ø£Ø¯Ø§Ø© ØªØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‡ÙˆØ§ØªÙ ÙˆØ§Ù„Ø£Ø¬Ù‡Ø²Ø©.</li>
      </ul>
    </footer>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ø³Ø® -->
  <div id="toast" class="success-toast" role="alert">ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!</div>

  <script>
    // Ø¯Ø§Ù„Ø© Ù„Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ù…Ù† Ø¹Ù†ØµØ± Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©
    function copyResult(elementId) {
      const resultElement = document.getElementById(elementId);
      const text = resultElement.innerText;

      if (!text || text.includes("Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§")) {
        showToast("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†Ø§ØªØ¬ Ù„Ù†Ø³Ø®Ù‡ Ø¨Ø¹Ø¯.");
        return;
      }

      navigator.clipboard.writeText(text).then(() => {
        showToast("ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!");
      }).catch(err => {
        console.error('ÙØ´Ù„ Ù†Ø³Ø® Ø§Ù„Ù†Øµ: ', err);
        showToast("ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø®. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.");
      });
    }

    // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù…Ø¤Ù‚ØªØ© (Toast)
    function showToast(message) {
      const toast = document.getElementById("toast");
      toast.textContent = message;
      toast.classList.add("visible");

      setTimeout(() => {
        toast.classList.remove("visible");
      }, 2000);
    }

    // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¨Ù€ 4 Ø£Ø±Ù‚Ø§Ù… Ø¹Ø´Ø±ÙŠØ© ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰ØŒ ÙˆØ¥Ø²Ø§Ù„Ø© Ø§Ù„Ø£ØµÙØ§Ø± Ø§Ù„Ø²Ø§Ø¦Ø¯Ø©
    function formatNumber(num) {
      if (isNaN(num) || !isFinite(num)) return "ØºÙŠØ± Ù…Ø¹Ø±Ù";
      return parseFloat(num.toFixed(6)).toString();
    }

    // Ø¯Ø§Ù„Ø© Ø¹Ø§Ù…Ø© Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©
    function calculatePercentage(percent, total) {
      return (percent / 100) * total;
    }

    // Ø¯Ø§Ù„Ø© Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ© Ù„Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„ÙƒÙ„
    function calculatePercentOf(part, whole) {
      if (whole === 0) return NaN;
      return (part / whole) * 100;
    }

    // Ø¯Ø§Ù„Ø© Ù„Ø­Ø³Ø§Ø¨ Ù†Ø³Ø¨Ø© Ø§Ù„ØªØºÙŠØ± Ø¨ÙŠÙ† Ù‚ÙŠÙ…ØªÙŠÙ†
    function calculateChangePercent(oldVal, newVal) {
      if (oldVal === 0) return newVal > 0 ? Infinity : newVal < 0 ? -Infinity : 0;
      return ((newVal - oldVal) / Math.abs(oldVal)) * 100;
    }

    // Ø¯Ø§Ù„Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
    function validateInput(value, fieldName, errorElement) {
      if (value === '' || value === null || isNaN(value)) {
        showError(errorElement, `Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ${fieldName} ØµØ­ÙŠØ­.`);
        return false;
      }
      if (value < 0 && fieldName !== "Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©" && fieldName !== "Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©") {
        showError(errorElement, `${fieldName} ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¹Ø¯Ø¯Ù‹Ø§ Ù…ÙˆØ¬Ø¨Ù‹Ø§.`);
        return false;
      }
      clearError(errorElement);
      return true;
    }

    function showError(elementId, message) {
      const el = document.getElementById(elementId);
      el.innerText = message;
      el.style.display = "block";
    }

    function clearError(elementId) {
      const el = document.getElementById(elementId);
      el.style.display = "none";
      el.innerText = "";
    }

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙÙˆØ±Ù‹Ø§
    document.getElementById("percent1").addEventListener("input", function () {
      const percent = parseFloat(this.value);
      const total = parseFloat(document.getElementById("number1").value);

      if (validateInput(percent, "Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©", "error1") && validateInput(total, "Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„ÙŠ", "error1")) {
        const result = calculatePercentage(percent, total);
        document.getElementById("result1").innerHTML = `<strong>${formatNumber(result)}</strong> Ù‡Ùˆ ${formatNumber(percent)}% Ù…Ù† ${formatNumber(total)}`;
      } else {
        document.getElementById("result1").textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...";
      }
    });

    document.getElementById("number1").addEventListener("input", function () {
      const total = parseFloat(this.value);
      const percent = parseFloat(document.getElementById("percent1").value);

      if (validateInput(percent, "Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©", "error1") && validateInput(total, "Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„ÙŠ", "error1")) {
        const result = calculatePercentage(percent, total);
        document.getElementById("result1").innerHTML = `<strong>${formatNumber(result)}</strong> Ù‡Ùˆ ${formatNumber(percent)}% Ù…Ù† ${formatNumber(total)}`;
      } else {
        document.getElementById("result1").textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...";
      }
    });

    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„ÙƒÙ„
    document.getElementById("part").addEventListener("input", function () {
      const part = parseFloat(this.value);
      const whole = parseFloat(document.getElementById("whole").value);

      if (validateInput(part, "Ø§Ù„Ø¬Ø²Ø¡", "error2") && validateInput(whole, "Ø§Ù„ÙƒÙ„", "error2")) {
        const percent = calculatePercentOf(part, whole);
        if (!isFinite(percent)) {
          document.getElementById("result2").innerHTML = `<strong>ØºÙŠØ± Ù…Ø¹Ø±Ù</strong> (Ø§Ù„Ù‚Ø³Ù…Ø© Ø¹Ù„Ù‰ ØµÙØ±)`;
        } else {
          document.getElementById("result2").innerHTML = `<strong>${formatNumber(part)}</strong> Ù‡Ùˆ <strong>${formatNumber(percent)}%</strong> Ù…Ù† <strong>${formatNumber(whole)}</strong>`;
        }
      } else {
        document.getElementById("result2").textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...";
      }
    });

    document.getElementById("whole").addEventListener("input", function () {
      const whole = parseFloat(this.value);
      const part = parseFloat(document.getElementById("part").value);

      if (validateInput(part, "Ø§Ù„Ø¬Ø²Ø¡", "error2") && validateInput(whole, "Ø§Ù„ÙƒÙ„", "error2")) {
        const percent = calculatePercentOf(part, whole);
        if (!isFinite(percent)) {
          document.getElementById("result2").innerHTML = `<strong>ØºÙŠØ± Ù…Ø¹Ø±Ù</strong> (Ø§Ù„Ù‚Ø³Ù…Ø© Ø¹Ù„Ù‰ ØµÙØ±)`;
        } else {
          document.getElementById("result2").innerHTML = `<strong>${formatNumber(part)}</strong> Ù‡Ùˆ <strong>${formatNumber(percent)}%</strong> Ù…Ù† <strong>${formatNumber(whole)}</strong>`;
        }
      } else {
        document.getElementById("result2").textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...";
      }
    });

    // Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØºÙŠØ± Ø§Ù„Ù†Ø³Ø¨ÙŠ
    document.getElementById("oldValue").addEventListener("input", function () {
      const oldVal = parseFloat(this.value);
      const newVal = parseFloat(document.getElementById("newValue").value);

      if (isNaN(oldVal) || isNaN(newVal)) {
        document.getElementById("result3").textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...";
        return;
      }

      const changePercent = calculateChangePercent(oldVal, newVal);
      let resultText = "";

      if (!isFinite(changePercent)) {
        resultText = "Ø§Ù„ØªØºÙŠØ± ØºÙŠØ± Ù…Ø¹Ø±Ù (Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© ØµÙØ±)";
      } else {
        const formattedPercent = formatNumber(Math.abs(changePercent));
        if (newVal > oldVal) {
          resultText = `Ø²ÙŠØ§Ø¯Ø© Ø¨Ù†Ø³Ø¨Ø© <strong>${formattedPercent}%</strong> (Ù…Ù† ${formatNumber(oldVal)} Ø¥Ù„Ù‰ ${formatNumber(newVal)})`;
        } else if (newVal < oldVal) {
          resultText = `Ù†Ù‚ØµØ§Ù† Ø¨Ù†Ø³Ø¨Ø© <strong>${formattedPercent}%</strong> (Ù…Ù† ${formatNumber(oldVal)} Ø¥Ù„Ù‰ ${formatNumber(newVal)})`;
        } else {
          resultText = `Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØºÙŠØ± (Ø§Ù„Ù‚ÙŠÙ…ØªØ§Ù† Ù…ØªØ³Ø§ÙˆÙŠØªØ§Ù†: ${formatNumber(oldVal)})`;
        }
      }

      document.getElementById("result3").innerHTML = resultText;
    });

    document.getElementById("newValue").addEventListener("input", function () {
      const newVal = parseFloat(this.value);
      const oldVal = parseFloat(document.getElementById("oldValue").value);

      if (isNaN(oldVal) || isNaN(newVal)) {
        document.getElementById("result3").textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...";
        return;
      }

      const changePercent = calculateChangePercent(oldVal, newVal);
      let resultText = "";

      if (!isFinite(changePercent)) {
        resultText = "Ø§Ù„ØªØºÙŠØ± ØºÙŠØ± Ù…Ø¹Ø±Ù (Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© ØµÙØ±)";
      } else {
        const formattedPercent = formatNumber(Math.abs(changePercent));
        if (newVal > oldVal) {
          resultText = `Ø²ÙŠØ§Ø¯Ø© Ø¨Ù†Ø³Ø¨Ø© <strong>${formattedPercent}%</strong> (Ù…Ù† ${formatNumber(oldVal)} Ø¥Ù„Ù‰ ${formatNumber(newVal)})`;
        } else if (newVal < oldVal) {
          resultText = `Ù†Ù‚ØµØ§Ù† Ø¨Ù†Ø³Ø¨Ø© <strong>${formattedPercent}%</strong> (Ù…Ù† ${formatNumber(oldVal)} Ø¥Ù„Ù‰ ${formatNumber(newVal)})`;
        } else {
          resultText = `Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØºÙŠØ± (Ø§Ù„Ù‚ÙŠÙ…ØªØ§Ù† Ù…ØªØ³Ø§ÙˆÙŠØªØ§Ù†: ${formatNumber(oldVal)})`;
        }
      }

      document.getElementById("result3").innerHTML = resultText;
    });

    // ØªØ­Ù…ÙŠÙ„ Ø£ÙˆÙ„ÙŠ Ù„Ù„Ù†ØªØ§Ø¦Ø¬ (Ù„ØªÙØ§Ø¯ÙŠ Ø±Ø³Ø§Ù„Ø© "Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§" Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„)
    window.addEventListener("load", () => {
      document.getElementById("result1").textContent = "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚ÙŠÙ… Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØªÙŠØ¬Ø©...";
      document.getElementById("result2").textContent = "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚ÙŠÙ… Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØªÙŠØ¬Ø©...";
      document.getElementById("result3").textContent = "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚ÙŠÙ… Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØªÙŠØ¬Ø©...";
    });
  </script>
</body>
</html>
